<section class="body">

  <article class="entity-display">
    <img src="../assets/Market-logo-white.png" alt="vendor placeholder logo" class="market"/>
    <ul class="address-block">
      <h3><%= @market.name %></li></h3>
      <li><%= @market.address %></li>
      <li><%= "#{@market.city}, #{@market.state} #{@market.zip}" %></li>
      <div class = "entity-buttons">
        <%= button_to "Edit Profile", {controller: 'markets', action: 'edit', id: @market.id }, method: :get %>
      </div>
    </ul>
    <%#= button_to "Delete Profile", {controller: 'markets', action: 'destroy', id: @market.id }, method: :delete, data: {confirm: "Are you sure you want to delete this?"} %>
    <div class="list-break"></div>
  </article>


  <article>
    <%# button_to "Add Vendor", {controller: 'vendors', action: 'new'}, method: :get %>
    <table>
      <tr>
        <th class="table17">Vendors</th>
        <th class="table25">Description</th>
        <th class="table10">Staff</th>
        <th></th>
        <th></th>
      </tr>
      <% @market.vendors.each do |vendor| %>
        <tr>
          <td class="table17">
            <%= link_to vendor.name, {controller: 'vendors', action: 'show', id: vendor.id}, method: :get %>
          </td>
          <td class="table25">
            <%= vendor.description %>
          </td>
          <td class="table10">
            <%= vendor.num_of_employees %>
          </td>
          <td class="table-button edit">
            <%= button_to "Edit", {controller: 'vendors', action: 'edit', id: vendor.id}, method: :get %>
          </td>
          <td class="table-button delete">
            <%= button_to "Delete", {controller: 'vendors', action: 'destroy', id: vendor.id}, method: :delete, data: {confirm: "Are you sure you want to delete this?"}%>
          </td>
        </tr>
      <% end %>
      </table>

      <ul class="in-page-input-form">
      <%= form_for @vendor, url: {controller: 'vendors', action: 'create'}, method: :post do |f| %>

          <li class="form17">
            <%= f.text_field :name, placeholder: "New vendor name"%>
          </li>
          <li class="form25">
            <%= f.text_area :description, placeholder: "Description" %>
          </li>
          <li class="form10">
            <%= f.number_field :num_of_employees, placeholder: "Staff" %>
          </li>
          <li class="hide">
            <%= f.hidden_field :market_id, value: @market.id %>
          </li>
          <li class="form-submit">
            <%= f.submit value:"Add Vendor" %>
          </li>
        <% end %>
      </ul>

    </article>

</section>

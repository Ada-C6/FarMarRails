<section class="body">

  <article class="entity-display">
    <img src="../assets/Market-logo-white.png" alt="vendor placeholder logo" class="market"/>
    <ul class="address-block">
      <h3><%= @market.name %></li></h3>
      <li><%= @market.address %></li>
      <li><%= "#{@market.city}, #{@market.state} #{@market.zip}" %></li>
    </ul>
    <%= button_to "Edit Profile", {controller: 'markets', action: 'edit', id: @market.id }, method: :get %>
  </article>


  <article>
    <!-- need to someway set market_id to default with current market? -->
    <%= button_to "Add Vendor", {controller: 'vendors', action: 'new'}, method: :get %>
    <ul>
      <% @market.vendors.each do |vendor| %>
        <li>
          <%= link_to vendor.name, {controller: 'vendors', action: 'show', id: vendor.id}, method: :get %>
          <%= button_to "Edit", {controller: 'vendors', action: 'edit', id: vendor.id}, method: :get %>
          <%= button_to "Delete", {controller: 'vendors', action: 'destroy', id: vendor.id}, method: :delete, data: {confirm: "Are you sure you want to delete this?"}, class:"submit" %>
        </li>
      <% end %>
    </ul>
  </article>

  <article>
    <%= form_for @vendor, url: {controller: 'vendors', action: 'create'}, method: :post do |f| %>
      <%= f.label :name %>
      <%= f.text_field :name %>

      <%= f.label :description %>
      <%= f.text_area :description %>

      <%= f.label :num_of_employees %>
      <%= f.number_field :num_of_employees %>

      <%= f.label :market_id %>
      <%= f.number_field :market_id, value: @market.id %>

      <%= f.submit %>
    <% end %>
  </article>

</section>
